<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Login | Zabiha Beef</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Segoe UI, Arial;
  background:#f5f5f5;
}
header{
  background:#b10f0f;
  color:#fff;
  padding:15px;
  text-align:center;
  font-size:22px;
  font-weight:bold;
}
.container{
  max-width:400px;
  margin:40px auto;
  background:#fff;
  padding:25px;
  border-radius:8px;
  box-shadow:0 0 12px rgba(0,0,0,0.15);
}
label{
  display:block;
  margin-top:12px;
  font-weight:600;
}
input{
  width:100%;
  padding:12px;
  margin-top:6px;
  font-size:15px;
}
button{
  width:100%;
  margin-top:20px;
  padding:14px;
  background:#b10f0f;
  color:#fff;
  border:none;
  font-size:16px;
  cursor:pointer;
}
button:hover{
  background:#8e0c0c;
}
.note{
  font-size:13px;
  color:#555;
  margin-top:10px;
}
.error{
  color:#b10f0f;
  margin-top:10px;
  font-size:14px;
  display:none;
}
.hidden{
  display:none;
}
</style>
</head>

<body>

<header>Zabiha Beef â€“ Login</header>

<div class="container">

<label>Email</label>
<input type="email" id="email" placeholder="Enter email">

<!-- PASSWORD (ADMIN ONLY) -->
<div id="passwordBox" class="hidden">
  <label>Password (Admin Only)</label>
  <input type="password" id="password" placeholder="Enter admin password">
</div>

<label>Phone (optional for guest)</label>
<input type="tel" id="phone" placeholder="03xxxxxxxxx">

<button onclick="login()">Continue</button>

<div class="error" id="errorMsg"></div>

</div>

<script>
/* ===== ADMIN EMAILS + PASSWORDS ===== */
const adminAccounts = {
  "shazghar68@gmail.com": "shah1214",
  "jawad.hanif@zabihabeef.com": "shah1214",
  "hassan.shamim@zabihabeef.com": "1214",
  "muntazer.mehdi@zabihabeef.com": "1214"
};

const emailInput = document.getElementById("email");
const passwordBox = document.getElementById("passwordBox");
const errorMsg = document.getElementById("errorMsg");

/* ===== SHOW / HIDE PASSWORD FIELD ===== */
emailInput.addEventListener("input", () => {
  const email = emailInput.value.toLowerCase().trim();
  if(adminAccounts[email]){
    passwordBox.classList.remove("hidden");
  }else{
    passwordBox.classList.add("hidden");
  }
});

/* ===== LOGIN LOGIC ===== */
function login(){
  const email = emailInput.value.toLowerCase().trim();
  const phone = document.getElementById("phone").value.trim();
  const password = document.getElementById("password").value;

  errorMsg.style.display = "none";

  /* ===== ADMIN LOGIN ===== */
  if(adminAccounts[email]){
    if(!password){
      errorMsg.innerText = "Admin ke liye password zaroori hai";
      errorMsg.style.display = "block";
      return;
    }

    if(adminAccounts[email] !== password){
      errorMsg.innerText = "Invalid admin password";
      errorMsg.style.display = "block";
      return;
    }

    localStorage.setItem("loggedIn","yes");
    localStorage.setItem("isAdmin","yes");
    localStorage.setItem("userEmail", email);

    window.location.href = "index.html";
    return;
  }

  /* ===== GUEST LOGIN ===== */
  if(!email && !phone){
    errorMsg.innerText = "Guest ke liye email ya phone me se ek zaroori hai";
    errorMsg.style.display = "block";
    return;
  }

  localStorage.setItem("loggedIn","yes");
  localStorage.setItem("isAdmin","no");
  if(email) localStorage.setItem("userEmail", email);
  if(phone) localStorage.setItem("userPhone", phone);

  window.location.href = "index.html";
}
</script>

</body>
</html>
